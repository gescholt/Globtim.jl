{
  "permissions": {
    "allow": [
      "Bash(claude doctor)",
      "WebSearch",
      "Bash(chmod:*)",
      "Bash(./tests/gitlab_api/test_agent_specific.sh:*)",
      "Bash(./tools/gitlab/get-token-noninteractive.sh:*)",
      "Bash(./tests/gitlab_api/run_all_tests.sh:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh test:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh get-issue:*)",
      "Bash(./tools/gitlab/claude-agent-gitlab.sh:*)",
      "Bash(ssh:*)",
      "Bash(if:*)",
      "Bash(/dev/null)",
      "Bash(then echo \"Token retrieval successful\")",
      "Bash(else echo \"ERROR: GitLab token not configured. User must set it up manually.\")",
      "Bash(exit 1)",
      "Bash(fi)",
      "mcp__ide__executeCode",
      "Bash(julia:*)",
      "Bash(curl:*)",
      "Bash(scp:*)",
      "Bash(git add:*)",
      "Bash(git commit:*)",
      "Bash(git push:*)"
    ],
    "deny": [],
    "ask": [],
    "defaultMode": "acceptEdits"
  },
  "enableAllProjectMcpServers": false,
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "git",
        "hooks": [
          {
            "type": "command",
            "command": "#!/bin/bash\nif [[ \"$CLAUDE_TOOL_NAME\" != *\"git\"* ]] && [[ \"$CLAUDE_COMMAND\" != *\"git\"* ]]; then exit 0; fi\nif ! git rev-parse --git-dir > /dev/null 2>&1; then exit 0; fi\nif [ -f .env.gitlab.local ]; then\n  source .env.gitlab.local\n  current_url=$(git remote get-url origin 2>/dev/null)\n  if [[ \"$current_url\" != *\"oauth2:\"* ]]; then\n    echo \"ðŸ”§ Enforcing OAuth2 token authentication for git remote\"\n    git remote set-url origin \"https://oauth2:${GITLAB_PRIVATE_TOKEN}@git.mpi-cbg.de/scholten/globtim.git\"\n    echo \"âœ… Git remote URL updated to use token authentication\"\n  fi\nfi",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "git",
        "hooks": [
          {
            "type": "command",
            "command": "#!/bin/bash\nif ! git rev-parse --git-dir > /dev/null 2>&1; then exit 0; fi\ngit_status=$(git status --porcelain)\nif [ -z \"$git_status\" ]; then exit 0; fi\nfile_count=$(echo \"$git_status\" | wc -l | tr -d ' ')\nif [ \"$file_count\" -ge 5 ] || [[ \"$CLAUDE_CONTEXT\" == *\"commit\"* ]] || [[ \"$CLAUDE_CONTEXT\" == *\"push\"* ]]; then\n  if [ -f .env.gitlab.local ]; then\n    source .env.gitlab.local\n    if [[ \"$(git remote get-url origin)\" != *\"oauth2:\"* ]]; then\n      git remote set-url origin \"https://oauth2:${GITLAB_PRIVATE_TOKEN}@git.mpi-cbg.de/scholten/globtim.git\"\n    fi\n  fi\n  git add .\n  commit_msg=\"feat: Auto-commit of development progress\n\nðŸ”„ Changes Summary:\n- $file_count files modified/added\n- Context: $CLAUDE_CONTEXT\n\nðŸ¤– Generated with [Claude Code](https://claude.ai/code)\n\nCo-Authored-By: Claude <noreply@anthropic.com>\"\n  git commit -m \"$commit_msg\"\n  git push\n  echo \"âœ… Auto-committed and pushed $file_count files\"\nfi",
            "timeout": 60
          }
        ]
      }
    ]
  }
}